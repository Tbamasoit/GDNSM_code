# configs/model/GDNSM.yaml

# ==========================================
# 1. MCI Encoder & GNN 基础参数
# ==========================================
embedding_size: 64      # [对应代码] self.embedding_dim
n_layers: 2             # [对应代码] self.n_layers (多模态图层数)
n_ui_layers: 2          # [对应代码] self.n_ui_layers (LightGCN 层数)
reg_weight: 0.001       # [对应代码] self.reg_weight (L2正则化)
knn_k: 10               # [对应代码] self.knn_k (构建图时的邻居数)

# ==========================================
# 2. 损失函数权重
# ==========================================
cl_loss: 0.1            # [对应代码] self.cl_loss (InfoNCE 权重)
lambda_neg: 0.05         # [关键新增] 对应代码 calculate_loss 中的 config['lambda_neg']
                        # 作用：控制生成负样本带来的 Loss 在总 Loss 中的占比

# ==========================================
# 3. 扩散模型参数 (Diffusion Model)
# ==========================================
timesteps: 50           # [对应代码] self.timesteps (T)
cfg_scale: 1.1          # [对应代码] self.v_cfg_scale, self.t_cfg_scale
scheduler: 'cosine_beta_schedule' # [对应代码] Diffusion_CFG 中的 config['scheduler']
loss_type: 'l2'         # [对应代码] Diffusion_CFG 中的 config['loss_type']


# ==========================================
# 4. 动态难度调度器 (Scheduler) & 负采样
# ==========================================
# 这里的参数直接决定了 Trainer 和 Scheduler 的行为

d_epoch: 20              # [关键] 对应 Scheduler 中的 S (Start Epoch)
                        # 作用：前 5 个 Epoch 不生成，第 5 个 Epoch 开始介入生成的负样本

lambda_coeff: 1.0       # [关键] 对应 Scheduler 中的 lambda (Growth Rate)
                        # 作用：控制难度增长的速率。1.0 为线性增长。
                        # (原 yaml 中的 schedule_power，现已重命名以匹配代码)

num_gen_samples: 1      # [关键] 对应 Scheduler 中的 M
                        # 作用：每个难度级别生成多少个样本。
                        # 总生成的样本数 = 3 * num_gen_samples
                        # (原 yaml 中的 num_generated_samples_M，现已重命名)


# ==========================================
# 5. 自动调优列表 (Hyperopt)
# ==========================================
hyper_parameters:
  - embedding_size
  - n_ui_layers
  - n_layers
  - reg_weight
  - cl_loss
  - lambda_neg
  - knn_k
  - timesteps
  - cfg_scale
  - d_epoch
  - lambda_coeff



